{% extends '::base.html.twig' %}
{% block css %}
    {% include 'result.html.twig' %}
{% endblock %}
{% block title %}Search result · {{ parent() }}{% endblock %}
{% block body %}
    <div id="search-wrapper"><div class="container search-box"><p class="fs-20">Advanced filters</p><hr /><form class="advanced-search" action='{{ url('gc_main_search', {'_theme': app.request.get('_theme')}) }}'><div class="dispo"><span class="fs-14">Availabilities:</span><div><input id="cb-1" class="cb" name="days[]" type="checkbox" {% if 'mon' in app.request.get('days') %}checked{% endif %} value="mon"><label for="cb-1" class="cb-label">Monday</label></div><div><input id="cb-2" class="cb" name="days[]" type="checkbox" {% if 'tue' in app.request.get('days') %}checked{% endif %} value="tue"><label for="cb-2" class="cb-label">Tuesday</label></div><div><input id="cb-3" class="cb" name="days[]" type="checkbox" {% if 'wed' in app.request.get('days') %}checked{% endif %} value="wed"><label for="cb-3" class="cb-label">Wednesday</label></div><div><input id="cb-4" class="cb" name="days[]" type="checkbox" {% if 'thu' in app.request.get('days') %}checked{% endif %} value="thu"><label for="cb-4" class="cb-label">Thursday</label></div><div><input id="cb-5" class="cb" name="days[]" type="checkbox" {% if 'fri' in app.request.get('days') %}checked{% endif %} value="fri"><label for="cb-5" class="cb-label">Friday</label></div></div><hr/><div class="filters-wrapper"><div class="specialization"><label class="fs-14" for="spec">Specialization:</label><div class="select"><select id="spec" name="spec"><option value="">All specializations</option><option {% if app.request.get('spec') == 'dph' %}selected{% endif %} value="dph">Dental Public Health</option><option {% if app.request.get('spec') == 'end' %}selected{% endif %} value="end">Endodontics</option><option {% if app.request.get('spec') == 'omp' %}selected{% endif %} value="omp">Oral and Maxillofacial Pathology</option><option {% if app.request.get('spec') == 'omr' %}selected{% endif %} value="omr">Oral and Maxillofacial Radiology</option><option {% if app.request.get('spec') == 'oms' %}selected{% endif %} value="oms">Oral and Maxillofacial Surgery</option><option {% if app.request.get('spec') == 'odo' %}selected{% endif %} value="odo">Orthodontics and Dentofacial Orthopedics</option><option {% if app.request.get('spec') == 'pd' %}selected{% endif %} value="pd">Pediatric Dentistry</option><option {% if app.request.get('spec') == 'per' %}selected{% endif %} value="per">Periodontics</option><option {% if app.request.get('spec') == 'pro' %}selected{% endif %} value="pro">Prosthodontics</option></select></div></div><div><label class="fs-14" for="q">Search:</label><div class="search"><input id="q" maxlength="255" placeholder="Name, Firstname Or Address..." type="text" name="q" value="{{ app.request.get('q') }}"></div></div></div><button class="fs-14 advanced-submit" type="submit">Search &raquo;</button></form></div><div class="container search-box results">{% if query %}<p>Search results for « {{ query }} »</p>{% else %}<p>All dentists</p>{% endif %}{% if resultsCount %}<p>{{ resultsCount }} result{% if resultsCount > 1 %}s{% endif %} found</p>{% else %}<p>No results found so far.</p>{% endif %}</div>{% if results %}<div class="container search-results">{% for dentist in results %}<a class="search-result-item" href="{{ path('gc_main_detail', {'dentist_id': dentist.id, '_theme': app.request.get('_theme') }) }}"><div class="detail"><ul><li class="name">{% if dentist.gender %}Mr {% else %}Mrs {% endif %}{{ dentist.firstname }} {{ dentist.lastname }}</li>{% if dentist.specialty | length > 0 %}<li class="specialty">{{ dentist.specialty }}</li>{% endif %}<li class="address">{{ dentist.address }},</li><li class="city">{{ dentist.city }}</li><li class="phone">Tel: {{ dentist.phone }}</li></ul></div><div class="right"><div class="photo">{% if dentist.image | length > 0 %}<img src="{{ dentist.image }}" alt="{{ dentist.firstname }} {{ dentist.lastname }}'s photo"/>{% endif %}</div><div class="visited">{% if dentists[dentist.id] is defined %}Visited{% endif %}</div></div></a>{% endfor %}</div>{% if maxPage > 1 %}<div class="container pagination"><div class="pages">{% if page > 1 %}{% if 'p=' in app.request.uri %}<a href="{{ app.request.uri | replace({('p=' ~ page) : 'p=1'}) }}">&laquo;</a>{% else %}<a href="{{ (app.request.uri) ~ ('&p=1') }}">&laquo;</a>{% endif %}{% endif %}{% for n in -2..2 %}{% if page + n > 0 and page + n <= maxPage %}{% if page + n == page %}<a href="#" class="active disabled">{{ page + n }}</a>{% else %}{% if 'p=' in app.request.uri %}<a href="{{ app.request.uri | replace({('p=' ~ page) : ('p=' ~ (page + n))}) }}">{{ page + n }}</a>{% else %}<a href="{{ (app.request.uri) ~ ('&p=' ~ (page + n)) }}">{{ page + n }}</a>{% endif %}{% endif %}{% endif %}{% endfor %}{% if page < maxPage %}{% if 'p=' in app.request.uri %}<a href="{{ app.request.uri | replace({('p=' ~ page) : ('p=' ~ (maxPage))}) }}">&raquo;</a>{% else %}<a href="{{ (app.request.uri) ~ ('&p=' ~ (maxPage)) }}">&raquo;</a>{% endif %}{% endif %}</div></div>{% endif %}{% endif %}</div>
{% endblock %}
